<blockquote style="font-size:12px">
    <p>A good architecture allows you to defer framework decisions.  A good architecture allows frameworks to act as plugins to the app.</p>
    <p><cite>Uncle Bob Martin</cite></p>
</blockquote>

<h3>EO - Elastic Objects</h3>
<p>
    Elastic Objects is a generic wrapper for java native objects.</p>
<img src="/pics/eoModel.svg" width="200" style="margin:20px;"/>
<p>
    Like a Java 8 Optional it contains an object. But it knows
</p>
<ul>
    <li>the EO wrapper of the parent object,</li>
    <li>all EO wrappers for the child objects by fieldName and </li>
    <li>its type rules(Model configuration).</li>
</ul>
<p>
    When an object is not a scalar value each member will be wrapped by EO recursive.
</p>
<img src="/pics/eoTree.svg" width="200" style="margin:20px;"/>
<p>
A value could be get and set type safe by a path.
</p>
<textarea style="height:100px">EO eoChild = eo.set(anObject, "a/b/c");
EO child = eo.getEo("a/b/c");
AnObject anObject1 = child.get();
AnObject anObject2 = eoChild.get();
AnObject anObject3 = eo.get("a/b/c");
</textarea>
<p>
    EO is a tiny generic skin wrapped around the object tree skeleton. It offer access methods in a path style
    and embed typed objects in an arbitrary map.
</p>

<h4>Model Configuration</h4>
<p>To hide the differences between different tree type objects
    <a href="configs/ModelConfig.html">model configurations</a>
    are loaded and provided in a cache object.
</p>
<img src="/pics/eoModelConfig.svg" width="200" style="margin:20px;"/>
<p>The EOConfigsCache object loads all ModelConfig.json,
    Models.json and FieldConfig.json files from the classpath.

</p>
<p>
    Every EoRoot object needs a configuration cache when initialized.
</p>
<textarea style="height:100px">EOConfigsCache configCache = new EOConfigsCache();
EO eoRoot = new EoRoot(configCache);
EO eoRootWithObject = new EoRoot(configCache, anObject);</textarea>

<img src="/pics/eoRoot.svg" width="200" style="margin:20px;"/>

<p>
The cache will be usually initialized one time as static or as a (injected) singelton.
</p>
<h4>Calls</h4>
<p>
    Calls are beans with an execute method with EO as input parameter. It returns an object.
</p>
<p>
Its field <i>sourcePath</i> defines the location of input values within the EO object. </p>
<p>
    The field <i>targetPath</i> defines the location, where the result will be mapped to the EO object.
</p>
<img src="/pics/eoCall.svg" width="200" style="margin:20px;"/>

<p>Like every other typed object a call can be put anywhere in an EO tree. </p>
<p>In a java-environment one can create calls and execute them directly:</p>
<textarea style="height:80px;">Call call = new SinusValueCall()
    .setSourcePath("source");
EO eo = new EORoot(configCache,"{\"source"\:1}");
Double result = call.execute(eo);
</textarea>


<h4>Template Call</h4>
<p>There is the possiblity to parse a text content for embedded calls in a recursive way. </p>

<img src="/pics/eoTemplateCall.svg" width="200" style="margin:20px;"/>



<h4>Typed JSON (De)serialization</h4>
<p>
    With a special JSON serialization/deserialization adding type to a fieldName,
    one can loosely transfer complex
    objects and trigger calls from a client.
</p>

<p>
    In the following example using the
    <a href="config/ModelConfig/SinusValueCall">SinusValueCall</a> as JSON:
</p>
<form action="/eo-form" method="post">
    <textarea name="eo" style="height:90px">{
   "(Double)source": 1,
   "(SinusValueCall)target":{
   "sourcePath":"/source"
   }
}
</textarea>
    <input type="submit" value="post"/>
</form>
</p>
<p>
    When you click on the "post" button, the
    <a href="https://github.com/fluentcodes/elasticobjects/blob/master/example-springboot/src/main/java/org/fluentcodes/projects/elasticobjects/web/WebEo.java#L54">&equiv;generic web interface</a>
    will map the JSON String to EO. At the end JSON will be generated as the response.</p>
<p>You can change the values of the example to see that it works.
</p>

<h4>Spring Boot Demo</h4>
<p>
    This site itself is a demo for this principle: A small spring boot application together
    with Elastic Objects and some <a href="config/TemplateConfig.html">TemplateConfigurations</a>.
</p>
<p>
    The page you see with an "ordinary" web-url triggers the spring boot method
    <a href="https://github.com/fluentcodes/elasticobjects/blob/master/example-springboot/src/main/java/org/fluentcodes/projects/elasticobjects/web/WebEoGet.java#L44">&equiv;WeEoGet.createRootPage</a>
    with the MVC request mapping "/{selectedItem:.+}.html".
</p>
<p>
    This method creates at server side a new EO object with selectedItem="Home.html" and
    <a href="https://github.com/fluentcodes/elasticobjects/blob/989f10d794111b55c20921fb072bb1d18d1cfae1/elastic-objects/src/main/java/org/fluentcodes/projects/elasticobjects/calls/templates/TemplateResourceCall.java#L10">&equiv;TemplateResourceCall</a>
    and the template name
    <a href="https://github.com/fluentcodes/elasticobjects/blob/master/example-springboot/input/web/ContentPage.html">&equiv;ContentPage.html</a>.

</p>
<p>
    When the
    <a href="https://github.com/fluentcodes/elasticobjects/blob/master/example-springboot/input/web/ContentPage.html" style="border:none;text-decoration:none;">&equiv;ContentPage.html template</a>
     is parsed, it will load
    <a href="https://github.com/fluentcodes/elasticobjects/blob/master/example-springboot/input/web/docs/Home.html">&equiv;Home.html</a>.
    So this is what you read.
</p>
<h5>The post version</h5>
<p>
   Every page with an url ending ".html" creates the EO object on server side.
</p>
<p>
    In the following example with JSON from the client side render the same result:
 </p>
<p>
<form action="/eo-form" method="post">
            <textarea name="eo" style="height:150px">{
   "selectedItem": "Home.html",
   "(TemplateResourceCall)call": {
      "templateKey":"ContentPage.html"
   },
   "asTemplate":true
}</textarea>
    <input type="submit" value="post"/>
</form>
</p>

<p>
    The result is the same beside the url is not so "nice".
    But it demonstrates the flexibility to send EO objects to the server.
    If you remove the "asTemplate" value
    you will get the "raw" JSON response.
</p>

<h4>Further Content</h4>
<p>
    The other pages have two topics
</p>
<ul>
    <li><a href="/examples/ExampleStart.html">Examples</a></li>
    <li>Different Configurations.</li>
</ul>
<h5>Examples</h5>
<p>The most pages are about getting data from the server</p>
<ul>
    <li><a href="/examples/FileCall.html">FileCall</a></li>
    <li><a href="/examples/JsonCall.html">JsonCall</a></li>
    <li><a href="/examples/CsvCall.html">CsvCall</a></li>
    <li><a href="/examples/XlsxCall.html">XlsxCall</a></li>
    <li><a href="/examples/DbCall.html">DbCall</a></li>
</ul>

<p>
    They have their own configurations e.g. with permission restrictions.
</p>

<p>
    <a href="/examples/TemplateCall.html">Templates</a> offer the possibility to embed the calls in an arbitrary text
in a hierarchical way.
</p>

<p>
    Finally and first there is an example creating an own call with <a href="/examples/TheGreetingCall.html">TheGreetingCall</a>.
</p>
